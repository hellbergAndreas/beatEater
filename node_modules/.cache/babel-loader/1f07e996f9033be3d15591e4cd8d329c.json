{"ast":null,"code":"var _jsxFileName = \"/Users/andreashellberg/Desktop/programmeringsprojekt/beatEater/src/components/instrument-board/slots/slot.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./slot.styles.scss\";\nimport { importSound } from \"../sounds/sounds\";\nimport bd from \"../../../sounds/bd.mp3\";\nimport hh from \"../../../sounds/hh.mp3\";\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.playSound = () => {\n      let audioEl = this.state.slotSound;\n      audioEl.cloneNode(true).play();\n    };\n\n    this.loadSlotWithSound = e => {\n      this.setState(state => {\n        return {\n          loaded: !state.loaded\n        };\n      });\n    };\n\n    this.state = {\n      loaded: false,\n      slotSound: null\n    };\n  }\n\n  componentDidMount() {\n    // gathering all the imported sounds and collects them in an Object\n    const sounds = {\n      bd: bd,\n      hh: hh\n    }; // creates a new Adio, which is collected from the sounds-Object\n    // the instrument that matches the name in the sounds objects get set to state\n\n    let sound = new Audio(sounds[this.props.instrument]);\n    this.setState(state => {\n      return { ...state,\n        slotSound: sound\n      };\n    });\n  }\n\n  componentDidUpdate() {\n    //destructuring props\n    let {\n      number,\n      time: {\n        time\n      }\n    } = this.props; // if slotnumber === current time && has been clicked ( is loaded)\n    // we play the sounds\n\n    if (number === time && this.state.loaded) {\n      this.playSound();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: e => this.loadSlotWithSound(e),\n      className: `instrumentSlot ${this.props.number === this.props.time.time ? \"active\" : \"\"} ${this.state.loaded ? \"loaded\" : \"\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  time: state.time\n});\n\nexport default connect(mapStateToProps)(Slot);","map":{"version":3,"sources":["/Users/andreashellberg/Desktop/programmeringsprojekt/beatEater/src/components/instrument-board/slots/slot.jsx"],"names":["React","connect","importSound","bd","hh","Slot","Component","constructor","props","playSound","audioEl","state","slotSound","cloneNode","play","loadSlotWithSound","e","setState","loaded","componentDidMount","sounds","sound","Audio","instrument","componentDidUpdate","number","time","render","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,oBAAP;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,EAAP,MAAe,wBAAf;AACA,OAAOC,EAAP,MAAe,wBAAf;;AAEA,MAAMC,IAAN,SAAmBL,KAAK,CAACM,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAkCnBC,SAlCmB,GAkCP,MAAM;AAChB,UAAIC,OAAO,GAAG,KAAKC,KAAL,CAAWC,SAAzB;AACAF,MAAAA,OAAO,CAACG,SAAR,CAAkB,IAAlB,EAAwBC,IAAxB;AACD,KArCkB;;AAAA,SAsCnBC,iBAtCmB,GAsCEC,CAAD,IAAO;AACzB,WAAKC,QAAL,CAAeN,KAAD,IAAW;AACvB,eAAO;AAAEO,UAAAA,MAAM,EAAE,CAACP,KAAK,CAACO;AAAjB,SAAP;AACD,OAFD;AAGD,KA1CkB;;AAEjB,SAAKP,KAAL,GAAa;AACXO,MAAAA,MAAM,EAAE,KADG;AAEXN,MAAAA,SAAS,EAAE;AAFA,KAAb;AAID;;AACDO,EAAAA,iBAAiB,GAAG;AAClB;AACA,UAAMC,MAAM,GAAG;AACbjB,MAAAA,EAAE,EAAEA,EADS;AAEbC,MAAAA,EAAE,EAAEA;AAFS,KAAf,CAFkB,CAMlB;AACA;;AACA,QAAIiB,KAAK,GAAG,IAAIC,KAAJ,CAAUF,MAAM,CAAC,KAAKZ,KAAL,CAAWe,UAAZ,CAAhB,CAAZ;AACA,SAAKN,QAAL,CAAeN,KAAD,IAAW;AACvB,aAAO,EAAE,GAAGA,KAAL;AAAYC,QAAAA,SAAS,EAAES;AAAvB,OAAP;AACD,KAFD;AAGD;;AACDG,EAAAA,kBAAkB,GAAG;AACnB;AACA,QAAI;AACFC,MAAAA,MADE;AAEFC,MAAAA,IAAI,EAAE;AAAEA,QAAAA;AAAF;AAFJ,QAGA,KAAKlB,KAHT,CAFmB,CAOnB;AACA;;AACA,QAAIiB,MAAM,KAAKC,IAAX,IAAmB,KAAKf,KAAL,CAAWO,MAAlC,EAA0C;AACxC,WAAKT,SAAL;AACD;AACF;;AAYDkB,EAAAA,MAAM,GAAG;AACP,wBACE;AACE,MAAA,OAAO,EAAGX,CAAD,IAAO,KAAKD,iBAAL,CAAuBC,CAAvB,CADlB;AAEE,MAAA,SAAS,EAAG,kBACV,KAAKR,KAAL,CAAWiB,MAAX,KAAsB,KAAKjB,KAAL,CAAWkB,IAAX,CAAgBA,IAAtC,GAA6C,QAA7C,GAAwD,EACzD,IAAG,KAAKf,KAAL,CAAWO,MAAX,GAAoB,QAApB,GAA+B,EAAG,EAJxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAQD;;AAtDgC;;AAyDnC,MAAMU,eAAe,GAAIjB,KAAD,KAAY;AAClCe,EAAAA,IAAI,EAAEf,KAAK,CAACe;AADsB,CAAZ,CAAxB;;AAGA,eAAezB,OAAO,CAAC2B,eAAD,CAAP,CAAyBvB,IAAzB,CAAf","sourcesContent":["import React from \"react\"\nimport { connect } from \"react-redux\"\nimport \"./slot.styles.scss\"\nimport { importSound } from \"../sounds/sounds\"\n\nimport bd from \"../../../sounds/bd.mp3\"\nimport hh from \"../../../sounds/hh.mp3\"\n\nclass Slot extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loaded: false,\n      slotSound: null,\n    }\n  }\n  componentDidMount() {\n    // gathering all the imported sounds and collects them in an Object\n    const sounds = {\n      bd: bd,\n      hh: hh,\n    }\n    // creates a new Adio, which is collected from the sounds-Object\n    // the instrument that matches the name in the sounds objects get set to state\n    let sound = new Audio(sounds[this.props.instrument])\n    this.setState((state) => {\n      return { ...state, slotSound: sound }\n    })\n  }\n  componentDidUpdate() {\n    //destructuring props\n    let {\n      number,\n      time: { time },\n    } = this.props\n\n    // if slotnumber === current time && has been clicked ( is loaded)\n    // we play the sounds\n    if (number === time && this.state.loaded) {\n      this.playSound()\n    }\n  }\n\n  playSound = () => {\n    let audioEl = this.state.slotSound\n    audioEl.cloneNode(true).play()\n  }\n  loadSlotWithSound = (e) => {\n    this.setState((state) => {\n      return { loaded: !state.loaded }\n    })\n  }\n\n  render() {\n    return (\n      <div\n        onClick={(e) => this.loadSlotWithSound(e)}\n        className={`instrumentSlot ${\n          this.props.number === this.props.time.time ? \"active\" : \"\"\n        } ${this.state.loaded ? \"loaded\" : \"\"}`}\n      ></div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  time: state.time,\n})\nexport default connect(mapStateToProps)(Slot)\n"]},"metadata":{},"sourceType":"module"}